import styles from"./../sass/aos.scss";import throttle from"lodash.throttle";import debounce from"lodash.debounce";import observer from"./libs/observer";import detect from"./helpers/detector";import handleScroll from"./helpers/handleScroll";import prepare from"./helpers/prepare";import elements from"./helpers/elements";let $aosElements=[],initialized=!1,options={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1};const refresh=function(e=!1){if(e&&(initialized=!0),initialized)return $aosElements=prepare($aosElements,options),handleScroll($aosElements,options.once),$aosElements},refreshHard=function(){$aosElements=elements(),refresh()},disable=function(){$aosElements.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},isDisabled=function(e){return!0===e||"mobile"===e&&detect.mobile()||"phone"===e&&detect.phone()||"tablet"===e&&detect.tablet()||"function"==typeof e&&!0===e()},init=function(e){options=Object.assign(options,e),$aosElements=elements();const t=document.all&&!window.atob;var o;if(!(!0===(o=options.disable)||"mobile"===o&&detect.mobile()||"phone"===o&&detect.phone()||"tablet"===o&&detect.tablet()||"function"==typeof o&&!0===o()||t))return options.disableMutationObserver||observer.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),options.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",options.easing),document.querySelector("body").setAttribute("data-aos-duration",options.duration),document.querySelector("body").setAttribute("data-aos-delay",options.delay),"DOMContentLoaded"===options.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?refresh(!0):"load"===options.startEvent?window.addEventListener(options.startEvent,(function(){refresh(!0)})):document.addEventListener(options.startEvent,(function(){refresh(!0)})),window.addEventListener("resize",debounce(refresh,options.debounceDelay,!0)),window.addEventListener("orientationchange",debounce(refresh,options.debounceDelay,!0)),window.addEventListener("scroll",throttle((()=>{handleScroll($aosElements,options.once)}),options.throttleDelay)),options.disableMutationObserver||observer.ready("[data-aos]",refreshHard),$aosElements;$aosElements.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))};module.exports={init:init,refresh:refresh,refreshHard:refreshHard};